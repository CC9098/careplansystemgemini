{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Container,Heading,Button,Grid,GridItem,Card,CardBody,Text,VStack,HStack,Badge,Spinner,Center,Alert,AlertIcon,Textarea,useToast,Tabs,TabList,TabPanels,Tab,TabPanel}from'@chakra-ui/react';import{ArrowBackIcon}from'@chakra-ui/icons';import{useParams,useNavigate}from'react-router-dom';import Layout from'../components/layout/Layout';import{apiClient}from'../api/client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResidentDetailPage=()=>{const{id}=useParams();const navigate=useNavigate();const toast=useToast();const[resident,setResident]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[analyzing,setAnalyzing]=useState(false);const[dailyLog,setDailyLog]=useState('');// 加載住民詳細資訊\nconst fetchResident=async()=>{try{setLoading(true);const response=await apiClient.get(\"/residents/\".concat(id));if(response.data.success){setResident(response.data.data);}else{var _response$data$error;setError(((_response$data$error=response.data.error)===null||_response$data$error===void 0?void 0:_response$data$error.message)||'無法載入住民資訊');}}catch(err){setError('載入住民資訊時發生錯誤');}finally{setLoading(false);}};// AI 分析\nconst handleAnalyze=async()=>{if(!dailyLog.trim()){toast({title:'請輸入日常記錄',status:'warning',duration:3000,isClosable:true});return;}try{setAnalyzing(true);const response=await apiClient.post('/analyze',{daily_log:dailyLog,current_plan:resident.current_care_plan,resident_info:{name:resident.name,age:resident.age,medical_conditions:resident.medical_conditions,medications:resident.medications}});if(response.data.success){toast({title:'AI 分析完成',description:'已生成照護建議',status:'success',duration:3000,isClosable:true});// TODO: 顯示分析結果\nconsole.log('Analysis result:',response.data.data.analysis);}else{var _response$data$error2;throw new Error((_response$data$error2=response.data.error)===null||_response$data$error2===void 0?void 0:_response$data$error2.message);}}catch(err){toast({title:'AI 分析失敗',description:err.message||'請稍後再試',status:'error',duration:5000,isClosable:true});}finally{setAnalyzing(false);}};useEffect(()=>{fetchResident();},[id]);// eslint-disable-line react-hooks/exhaustive-deps\nif(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Center,{h:\"50vh\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\"})})});}if(error){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Container,{maxW:\"4xl\",children:/*#__PURE__*/_jsxs(Alert,{status:\"error\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),error]})})});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Container,{maxW:\"6xl\",children:/*#__PURE__*/_jsxs(VStack,{spacing:6,align:\"stretch\",children:[/*#__PURE__*/_jsx(HStack,{justify:\"space-between\",align:\"center\",children:/*#__PURE__*/_jsxs(HStack,{children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",leftIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:()=>navigate('/dashboard'),children:\"\\u8FD4\\u56DE\"}),/*#__PURE__*/_jsx(Heading,{color:\"brand.500\",children:resident.name}),/*#__PURE__*/_jsx(Badge,{colorScheme:resident.current_care_plan?'green':'orange',children:resident.current_care_plan?'有照護計劃':'待設定'})]})}),/*#__PURE__*/_jsxs(Grid,{templateColumns:{base:'1fr',lg:'1fr 2fr'},gap:6,children:[/*#__PURE__*/_jsx(GridItem,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:3,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"brand.500\",children:\"\\u57FA\\u672C\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:\"\\u59D3\\u540D:\"}),/*#__PURE__*/_jsx(Text,{children:resident.name})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:\"\\u5E74\\u9F61:\"}),/*#__PURE__*/_jsx(Text,{children:resident.age||'未提供'})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:\"\\u6027\\u5225:\"}),/*#__PURE__*/_jsx(Text,{children:resident.gender||'未提供'})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:\"\\u623F\\u9593\\u865F\\u78BC:\"}),/*#__PURE__*/_jsx(Text,{children:resident.room_number||'未分配'})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:\"\\u7DCA\\u6025\\u806F\\u7D61\\u4EBA:\"}),/*#__PURE__*/_jsx(Text,{children:resident.emergency_contact_name||'未提供'}),resident.emergency_contact_phone&&/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:resident.emergency_contact_phone})]})]})})})}),/*#__PURE__*/_jsx(GridItem,{children:/*#__PURE__*/_jsxs(Tabs,{colorScheme:\"brand\",children:[/*#__PURE__*/_jsxs(TabList,{children:[/*#__PURE__*/_jsx(Tab,{children:\"AI \\u5206\\u6790\"}),/*#__PURE__*/_jsx(Tab,{children:\"\\u7167\\u8B77\\u8A08\\u5283\"}),/*#__PURE__*/_jsx(Tab,{children:\"\\u91AB\\u7642\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsx(Tab,{children:\"\\u7167\\u8B77\\u4EFB\\u52D9\"})]}),/*#__PURE__*/_jsxs(TabPanels,{children:[/*#__PURE__*/_jsx(TabPanel,{p:0,pt:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"brand.500\",children:\"AI \\u7167\\u8B77\\u5206\\u6790\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",children:\"\\u8F38\\u5165\\u4ECA\\u65E5\\u7684\\u7167\\u8B77\\u8A18\\u9304\\uFF0CAI \\u5C07\\u5206\\u6790\\u4E26\\u63D0\\u4F9B\\u5C08\\u696D\\u5EFA\\u8B70\\uFF1A\"}),/*#__PURE__*/_jsx(Textarea,{value:dailyLog,onChange:e=>setDailyLog(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u4ECA\\u65E5\\u7684\\u7167\\u8B77\\u8A18\\u9304\\uFF0C\\u5305\\u62EC\\u4F4F\\u6C11\\u7684\\u72C0\\u6CC1\\u3001\\u884C\\u70BA\\u3001\\u98F2\\u98DF\\u3001\\u7761\\u7720\\u7B49...\",rows:6}),/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",onClick:handleAnalyze,isLoading:analyzing,loadingText:\"AI \\u5206\\u6790\\u4E2D...\",children:\"\\u958B\\u59CB AI \\u5206\\u6790\"})]})})})}),/*#__PURE__*/_jsx(TabPanel,{p:0,pt:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"brand.500\",children:\"\\u7576\\u524D\\u7167\\u8B77\\u8A08\\u5283\"}),resident.current_care_plan?/*#__PURE__*/_jsx(Box,{p:4,bg:\"gray.50\",borderRadius:\"md\",whiteSpace:\"pre-wrap\",children:resident.current_care_plan}):/*#__PURE__*/_jsx(Text,{color:\"gray.500\",textAlign:\"center\",py:8,children:\"\\u5C1A\\u672A\\u8A2D\\u5B9A\\u7167\\u8B77\\u8A08\\u5283\"})]})})})}),/*#__PURE__*/_jsx(TabPanel,{p:0,pt:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"brand.500\",children:\"\\u91AB\\u7642\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",mb:2,children:\"\\u91AB\\u7642\\u72C0\\u6CC1:\"}),/*#__PURE__*/_jsx(Text,{children:resident.medical_conditions||'無特殊醫療狀況'})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",mb:2,children:\"\\u76EE\\u524D\\u7528\\u85E5:\"}),/*#__PURE__*/_jsx(Text,{children:resident.medications||'無用藥記錄'})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",mb:2,children:\"\\u7167\\u8B77\\u5099\\u8A3B:\"}),/*#__PURE__*/_jsx(Text,{children:resident.care_notes||'無特殊備註'})]})]})})})}),/*#__PURE__*/_jsx(TabPanel,{p:0,pt:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"brand.500\",children:\"\\u7167\\u8B77\\u4EFB\\u52D9\"}),resident.care_tasks&&resident.care_tasks.length>0?/*#__PURE__*/_jsx(VStack,{spacing:2,align:\"stretch\",children:resident.care_tasks.map(task=>/*#__PURE__*/_jsxs(Box,{p:3,bg:\"gray.50\",borderRadius:\"md\",borderLeft:\"4px solid\",borderColor:task.status==='completed'?'green.500':task.priority==='high'?'red.500':task.priority==='medium'?'yellow.500':'blue.500',children:[/*#__PURE__*/_jsxs(HStack,{justify:\"space-between\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",children:task.title}),/*#__PURE__*/_jsx(Badge,{colorScheme:task.status==='completed'?'green':task.status==='in_progress'?'blue':'gray',children:task.status})]}),task.description&&/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:task.description})]},task.id))}):/*#__PURE__*/_jsx(Text,{color:\"gray.500\",textAlign:\"center\",py:8,children:\"\\u5C1A\\u7121\\u7167\\u8B77\\u4EFB\\u52D9\"})]})})})})]})]})})]})]})})});};export default ResidentDetailPage;","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Heading","Button","Grid","GridItem","Card","CardBody","Text","VStack","HStack","Badge","Spinner","Center","Alert","AlertIcon","Textarea","useToast","Tabs","TabList","TabPanels","Tab","TabPanel","ArrowBackIcon","useParams","useNavigate","Layout","apiClient","jsx","_jsx","jsxs","_jsxs","ResidentDetailPage","id","navigate","toast","resident","setResident","loading","setLoading","error","setError","analyzing","setAnalyzing","dailyLog","setDailyLog","fetchResident","response","get","concat","data","success","_response$data$error","message","err","handleAnalyze","trim","title","status","duration","isClosable","post","daily_log","current_plan","current_care_plan","resident_info","name","age","medical_conditions","medications","description","console","log","analysis","_response$data$error2","Error","children","h","size","color","maxW","spacing","align","justify","variant","leftIcon","onClick","colorScheme","templateColumns","base","lg","gap","fontWeight","gender","room_number","emergency_contact_name","emergency_contact_phone","fontSize","p","pt","value","onChange","e","target","placeholder","rows","isLoading","loadingText","bg","borderRadius","whiteSpace","textAlign","py","mb","care_notes","care_tasks","length","map","task","borderLeft","borderColor","priority"],"sources":["/Users/chetchung/Documents/V0Careplanparrot/src/pages/ResidentDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Container,\n  Heading,\n  Button,\n  Grid,\n  GridItem,\n  Card,\n  CardBody,\n  Text,\n  VStack,\n  HStack,\n  Badge,\n  Spinner,\n  Center,\n  Alert,\n  AlertIcon,\n  Textarea,\n  useToast,\n  Tabs,\n  TabList,\n  TabPanels,\n  Tab,\n  TabPanel,\n} from '@chakra-ui/react';\nimport { ArrowBackIcon } from '@chakra-ui/icons';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport Layout from '../components/layout/Layout';\nimport { apiClient } from '../api/client';\n\nconst ResidentDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const toast = useToast();\n  \n  const [resident, setResident] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [analyzing, setAnalyzing] = useState(false);\n  const [dailyLog, setDailyLog] = useState('');\n\n  // 加載住民詳細資訊\n  const fetchResident = async () => {\n    try {\n      setLoading(true);\n      const response = await apiClient.get(`/residents/${id}`);\n      if (response.data.success) {\n        setResident(response.data.data);\n      } else {\n        setError(response.data.error?.message || '無法載入住民資訊');\n      }\n    } catch (err) {\n      setError('載入住民資訊時發生錯誤');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // AI 分析\n  const handleAnalyze = async () => {\n    if (!dailyLog.trim()) {\n      toast({\n        title: '請輸入日常記錄',\n        status: 'warning',\n        duration: 3000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    try {\n      setAnalyzing(true);\n      const response = await apiClient.post('/analyze', {\n        daily_log: dailyLog,\n        current_plan: resident.current_care_plan,\n        resident_info: {\n          name: resident.name,\n          age: resident.age,\n          medical_conditions: resident.medical_conditions,\n          medications: resident.medications,\n        },\n      });\n\n      if (response.data.success) {\n        toast({\n          title: 'AI 分析完成',\n          description: '已生成照護建議',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n        });\n        // TODO: 顯示分析結果\n        console.log('Analysis result:', response.data.data.analysis);\n      } else {\n        throw new Error(response.data.error?.message);\n      }\n    } catch (err) {\n      toast({\n        title: 'AI 分析失敗',\n        description: err.message || '請稍後再試',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchResident();\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (loading) {\n    return (\n      <Layout>\n        <Center h=\"50vh\">\n          <Spinner size=\"xl\" color=\"brand.500\" />\n        </Center>\n      </Layout>\n    );\n  }\n\n  if (error) {\n    return (\n      <Layout>\n        <Container maxW=\"4xl\">\n          <Alert status=\"error\">\n            <AlertIcon />\n            {error}\n          </Alert>\n        </Container>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <Container maxW=\"6xl\">\n        <VStack spacing={6} align=\"stretch\">\n          {/* 頁面標題和導航 */}\n          <HStack justify=\"space-between\" align=\"center\">\n            <HStack>\n              <Button\n                variant=\"ghost\"\n                leftIcon={<ArrowBackIcon />}\n                onClick={() => navigate('/dashboard')}\n              >\n                返回\n              </Button>\n              <Heading color=\"brand.500\">{resident.name}</Heading>\n              <Badge colorScheme={resident.current_care_plan ? 'green' : 'orange'}>\n                {resident.current_care_plan ? '有照護計劃' : '待設定'}\n              </Badge>\n            </HStack>\n          </HStack>\n\n          {/* 住民基本資訊 */}\n          <Grid templateColumns={{ base: '1fr', lg: '1fr 2fr' }} gap={6}>\n            <GridItem>\n              <Card>\n                <CardBody>\n                  <VStack spacing={3} align=\"stretch\">\n                    <Heading size=\"md\" color=\"brand.500\">基本資訊</Heading>\n                    <Box>\n                      <Text fontWeight=\"semibold\">姓名:</Text>\n                      <Text>{resident.name}</Text>\n                    </Box>\n                    <Box>\n                      <Text fontWeight=\"semibold\">年齡:</Text>\n                      <Text>{resident.age || '未提供'}</Text>\n                    </Box>\n                    <Box>\n                      <Text fontWeight=\"semibold\">性別:</Text>\n                      <Text>{resident.gender || '未提供'}</Text>\n                    </Box>\n                    <Box>\n                      <Text fontWeight=\"semibold\">房間號碼:</Text>\n                      <Text>{resident.room_number || '未分配'}</Text>\n                    </Box>\n                    <Box>\n                      <Text fontWeight=\"semibold\">緊急聯絡人:</Text>\n                      <Text>{resident.emergency_contact_name || '未提供'}</Text>\n                      {resident.emergency_contact_phone && (\n                        <Text fontSize=\"sm\" color=\"gray.600\">\n                          {resident.emergency_contact_phone}\n                        </Text>\n                      )}\n                    </Box>\n                  </VStack>\n                </CardBody>\n              </Card>\n            </GridItem>\n\n            <GridItem>\n              <Tabs colorScheme=\"brand\">\n                <TabList>\n                  <Tab>AI 分析</Tab>\n                  <Tab>照護計劃</Tab>\n                  <Tab>醫療資訊</Tab>\n                  <Tab>照護任務</Tab>\n                </TabList>\n\n                <TabPanels>\n                  {/* AI 分析面板 */}\n                  <TabPanel p={0} pt={4}>\n                    <Card>\n                      <CardBody>\n                        <VStack spacing={4} align=\"stretch\">\n                          <Heading size=\"md\" color=\"brand.500\">AI 照護分析</Heading>\n                          <Text color=\"gray.600\">\n                            輸入今日的照護記錄，AI 將分析並提供專業建議：\n                          </Text>\n                          <Textarea\n                            value={dailyLog}\n                            onChange={(e) => setDailyLog(e.target.value)}\n                            placeholder=\"請輸入今日的照護記錄，包括住民的狀況、行為、飲食、睡眠等...\"\n                            rows={6}\n                          />\n                          <Button\n                            colorScheme=\"brand\"\n                            onClick={handleAnalyze}\n                            isLoading={analyzing}\n                            loadingText=\"AI 分析中...\"\n                          >\n                            開始 AI 分析\n                          </Button>\n                        </VStack>\n                      </CardBody>\n                    </Card>\n                  </TabPanel>\n\n                  {/* 照護計劃面板 */}\n                  <TabPanel p={0} pt={4}>\n                    <Card>\n                      <CardBody>\n                        <VStack spacing={4} align=\"stretch\">\n                          <Heading size=\"md\" color=\"brand.500\">當前照護計劃</Heading>\n                          {resident.current_care_plan ? (\n                            <Box\n                              p={4}\n                              bg=\"gray.50\"\n                              borderRadius=\"md\"\n                              whiteSpace=\"pre-wrap\"\n                            >\n                              {resident.current_care_plan}\n                            </Box>\n                          ) : (\n                            <Text color=\"gray.500\" textAlign=\"center\" py={8}>\n                              尚未設定照護計劃\n                            </Text>\n                          )}\n                        </VStack>\n                      </CardBody>\n                    </Card>\n                  </TabPanel>\n\n                  {/* 醫療資訊面板 */}\n                  <TabPanel p={0} pt={4}>\n                    <Card>\n                      <CardBody>\n                        <VStack spacing={4} align=\"stretch\">\n                          <Heading size=\"md\" color=\"brand.500\">醫療資訊</Heading>\n                          <Box>\n                            <Text fontWeight=\"semibold\" mb={2}>醫療狀況:</Text>\n                            <Text>{resident.medical_conditions || '無特殊醫療狀況'}</Text>\n                          </Box>\n                          <Box>\n                            <Text fontWeight=\"semibold\" mb={2}>目前用藥:</Text>\n                            <Text>{resident.medications || '無用藥記錄'}</Text>\n                          </Box>\n                          <Box>\n                            <Text fontWeight=\"semibold\" mb={2}>照護備註:</Text>\n                            <Text>{resident.care_notes || '無特殊備註'}</Text>\n                          </Box>\n                        </VStack>\n                      </CardBody>\n                    </Card>\n                  </TabPanel>\n\n                  {/* 照護任務面板 */}\n                  <TabPanel p={0} pt={4}>\n                    <Card>\n                      <CardBody>\n                        <VStack spacing={4} align=\"stretch\">\n                          <Heading size=\"md\" color=\"brand.500\">照護任務</Heading>\n                          {resident.care_tasks && resident.care_tasks.length > 0 ? (\n                            <VStack spacing={2} align=\"stretch\">\n                              {resident.care_tasks.map((task) => (\n                                <Box\n                                  key={task.id}\n                                  p={3}\n                                  bg=\"gray.50\"\n                                  borderRadius=\"md\"\n                                  borderLeft=\"4px solid\"\n                                  borderColor={\n                                    task.status === 'completed' ? 'green.500' :\n                                    task.priority === 'high' ? 'red.500' :\n                                    task.priority === 'medium' ? 'yellow.500' : 'blue.500'\n                                  }\n                                >\n                                  <HStack justify=\"space-between\">\n                                    <Text fontWeight=\"semibold\">{task.title}</Text>\n                                    <Badge\n                                      colorScheme={\n                                        task.status === 'completed' ? 'green' :\n                                        task.status === 'in_progress' ? 'blue' : 'gray'\n                                      }\n                                    >\n                                      {task.status}\n                                    </Badge>\n                                  </HStack>\n                                  {task.description && (\n                                    <Text fontSize=\"sm\" color=\"gray.600\">\n                                      {task.description}\n                                    </Text>\n                                  )}\n                                </Box>\n                              ))}\n                            </VStack>\n                          ) : (\n                            <Text color=\"gray.500\" textAlign=\"center\" py={8}>\n                              尚無照護任務\n                            </Text>\n                          )}\n                        </VStack>\n                      </CardBody>\n                    </Card>\n                  </TabPanel>\n                </TabPanels>\n              </Tabs>\n            </GridItem>\n          </Grid>\n        </VStack>\n      </Container>\n    </Layout>\n  );\n};\n\nexport default ResidentDetailPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}