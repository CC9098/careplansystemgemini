{"ast":null,"code":"import React,{useState}from'react';import{Box,Button,Container,FormControl,FormLabel,Input,Stack,Text,Alert,AlertIcon,Heading,Link,Divider,HStack}from'@chakra-ui/react';import{Link as RouterLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{login,loginWithGoogle}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const result=await login(email,password);if(result.success){navigate('/dashboard');}else{setError(result.error);}}catch(err){setError('登入過程中發生錯誤，請稍後再試');}finally{setLoading(false);}};const handleGoogleLogin=async()=>{setLoading(true);setError('');try{const result=await loginWithGoogle();if(result.success){navigate('/dashboard');}else{setError(result.error);}}catch(err){setError('Google 登入過程中發生錯誤');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxW:\"md\",py:12,children:/*#__PURE__*/_jsx(Box,{bg:\"white\",p:8,borderRadius:\"lg\",boxShadow:\"md\",border:\"1px solid\",borderColor:\"gray.200\",children:/*#__PURE__*/_jsxs(Stack,{spacing:6,children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Heading,{color:\"brand.500\",mb:2,children:\"\\u6B61\\u8FCE\\u56DE\\u4F86\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",children:\"\\u767B\\u5165\\u60A8\\u7684 AI Care Plan \\u7BA1\\u7406\\u5E33\\u6236\"})]}),error&&/*#__PURE__*/_jsxs(Alert,{status:\"error\",borderRadius:\"md\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),error]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u96FB\\u5B50\\u90F5\\u4EF6\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u96FB\\u5B50\\u90F5\\u4EF6\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u5BC6\\u78BC\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u5BC6\\u78BC\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",colorScheme:\"brand\",size:\"lg\",isLoading:loading,loadingText:\"\\u767B\\u5165\\u4E2D...\",children:\"\\u767B\\u5165\"})]})}),/*#__PURE__*/_jsxs(HStack,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Text,{px:\"3\",color:\"gray.500\",fontSize:\"sm\",children:\"\\u6216\"}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",onClick:handleGoogleLogin,isLoading:loading,loadingText:\"Google \\u767B\\u5165\\u4E2D...\",children:\"\\u4F7F\\u7528 Google \\u5E33\\u6236\\u767B\\u5165\"}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsxs(Text,{color:\"gray.600\",children:[\"\\u9084\\u6C92\\u6709\\u5E33\\u6236\\uFF1F\",' ',/*#__PURE__*/_jsx(Link,{as:RouterLink,to:\"/register\",color:\"brand.500\",fontWeight:\"semibold\",children:\"\\u7ACB\\u5373\\u8A3B\\u518A\"})]})})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","Box","Button","Container","FormControl","FormLabel","Input","Stack","Text","Alert","AlertIcon","Heading","Link","Divider","HStack","RouterLink","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","email","setEmail","password","setPassword","loading","setLoading","error","setError","login","loginWithGoogle","navigate","handleSubmit","e","preventDefault","result","success","err","handleGoogleLogin","maxW","py","children","bg","p","borderRadius","boxShadow","border","borderColor","spacing","textAlign","color","mb","status","onSubmit","isRequired","type","value","onChange","target","placeholder","colorScheme","size","isLoading","loadingText","px","fontSize","variant","onClick","as","to","fontWeight"],"sources":["/Users/chetchung/Documents/V0Careplanparrot/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Container,\n  FormControl,\n  FormLabel,\n  Input,\n  Stack,\n  Text,\n  Alert,\n  AlertIcon,\n  Heading,\n  Link,\n  Divider,\n  HStack,\n} from '@chakra-ui/react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const { login, loginWithGoogle } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const result = await login(email, password);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setError(result.error);\n      }\n    } catch (err) {\n      setError('登入過程中發生錯誤，請稍後再試');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    setLoading(true);\n    setError('');\n\n    try {\n      const result = await loginWithGoogle();\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setError(result.error);\n      }\n    } catch (err) {\n      setError('Google 登入過程中發生錯誤');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxW=\"md\" py={12}>\n      <Box\n        bg=\"white\"\n        p={8}\n        borderRadius=\"lg\"\n        boxShadow=\"md\"\n        border=\"1px solid\"\n        borderColor=\"gray.200\"\n      >\n        <Stack spacing={6}>\n          <Box textAlign=\"center\">\n            <Heading color=\"brand.500\" mb={2}>\n              歡迎回來\n            </Heading>\n            <Text color=\"gray.600\">\n              登入您的 AI Care Plan 管理帳戶\n            </Text>\n          </Box>\n\n          {error && (\n            <Alert status=\"error\" borderRadius=\"md\">\n              <AlertIcon />\n              {error}\n            </Alert>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <Stack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>電子郵件</FormLabel>\n                <Input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"請輸入您的電子郵件\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>密碼</FormLabel>\n                <Input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"請輸入您的密碼\"\n                />\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                colorScheme=\"brand\"\n                size=\"lg\"\n                isLoading={loading}\n                loadingText=\"登入中...\"\n              >\n                登入\n              </Button>\n            </Stack>\n          </form>\n\n          <HStack>\n            <Divider />\n            <Text px=\"3\" color=\"gray.500\" fontSize=\"sm\">\n              或\n            </Text>\n            <Divider />\n          </HStack>\n\n          <Button\n            variant=\"outline\"\n            size=\"lg\"\n            onClick={handleGoogleLogin}\n            isLoading={loading}\n            loadingText=\"Google 登入中...\"\n          >\n            使用 Google 帳戶登入\n          </Button>\n\n          <Box textAlign=\"center\">\n            <Text color=\"gray.600\">\n              還沒有帳戶？{' '}\n              <Link as={RouterLink} to=\"/register\" color=\"brand.500\" fontWeight=\"semibold\">\n                立即註冊\n              </Link>\n            </Text>\n          </Box>\n        </Stack>\n      </Box>\n    </Container>\n  );\n};\n\nexport default LoginPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACEC,GAAG,CACHC,MAAM,CACNC,SAAS,CACTC,WAAW,CACXC,SAAS,CACTC,KAAK,CACLC,KAAK,CACLC,IAAI,CACJC,KAAK,CACLC,SAAS,CACTC,OAAO,CACPC,IAAI,CACJC,OAAO,CACPC,MAAM,KACD,kBAAkB,CACzB,OAASF,IAAI,GAAI,CAAAG,UAAU,CAAEC,WAAW,KAAQ,kBAAkB,CAClE,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyB,QAAQ,CAAEC,WAAW,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC2B,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC6B,KAAK,CAAEC,QAAQ,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAE+B,KAAK,CAAEC,eAAgB,CAAC,CAAGf,OAAO,CAAC,CAAC,CAC5C,KAAM,CAAAgB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBR,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAO,MAAM,CAAG,KAAM,CAAAN,KAAK,CAACR,KAAK,CAAEE,QAAQ,CAAC,CAC3C,GAAIY,MAAM,CAACC,OAAO,CAAE,CAClBL,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,IAAM,CACLH,QAAQ,CAACO,MAAM,CAACR,KAAK,CAAC,CACxB,CACF,CAAE,MAAOU,GAAG,CAAE,CACZT,QAAQ,CAAC,iBAAiB,CAAC,CAC7B,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAY,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpCZ,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAO,MAAM,CAAG,KAAM,CAAAL,eAAe,CAAC,CAAC,CACtC,GAAIK,MAAM,CAACC,OAAO,CAAE,CAClBL,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,IAAM,CACLH,QAAQ,CAACO,MAAM,CAACR,KAAK,CAAC,CACxB,CACF,CAAE,MAAOU,GAAG,CAAE,CACZT,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACET,IAAA,CAAChB,SAAS,EAACsC,IAAI,CAAC,IAAI,CAACC,EAAE,CAAE,EAAG,CAAAC,QAAA,cAC1BxB,IAAA,CAAClB,GAAG,EACF2C,EAAE,CAAC,OAAO,CACVC,CAAC,CAAE,CAAE,CACLC,YAAY,CAAC,IAAI,CACjBC,SAAS,CAAC,IAAI,CACdC,MAAM,CAAC,WAAW,CAClBC,WAAW,CAAC,UAAU,CAAAN,QAAA,cAEtBtB,KAAA,CAACd,KAAK,EAAC2C,OAAO,CAAE,CAAE,CAAAP,QAAA,eAChBtB,KAAA,CAACpB,GAAG,EAACkD,SAAS,CAAC,QAAQ,CAAAR,QAAA,eACrBxB,IAAA,CAACR,OAAO,EAACyC,KAAK,CAAC,WAAW,CAACC,EAAE,CAAE,CAAE,CAAAV,QAAA,CAAC,0BAElC,CAAS,CAAC,cACVxB,IAAA,CAACX,IAAI,EAAC4C,KAAK,CAAC,UAAU,CAAAT,QAAA,CAAC,gEAEvB,CAAM,CAAC,EACJ,CAAC,CAELd,KAAK,eACJR,KAAA,CAACZ,KAAK,EAAC6C,MAAM,CAAC,OAAO,CAACR,YAAY,CAAC,IAAI,CAAAH,QAAA,eACrCxB,IAAA,CAACT,SAAS,GAAE,CAAC,CACZmB,KAAK,EACD,CACR,cAEDV,IAAA,SAAMoC,QAAQ,CAAErB,YAAa,CAAAS,QAAA,cAC3BtB,KAAA,CAACd,KAAK,EAAC2C,OAAO,CAAE,CAAE,CAAAP,QAAA,eAChBtB,KAAA,CAACjB,WAAW,EAACoD,UAAU,MAAAb,QAAA,eACrBxB,IAAA,CAACd,SAAS,EAAAsC,QAAA,CAAC,0BAAI,CAAW,CAAC,cAC3BxB,IAAA,CAACb,KAAK,EACJmD,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEnC,KAAM,CACboC,QAAQ,CAAGxB,CAAC,EAAKX,QAAQ,CAACW,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,wDAAW,CACxB,CAAC,EACS,CAAC,cAEdxC,KAAA,CAACjB,WAAW,EAACoD,UAAU,MAAAb,QAAA,eACrBxB,IAAA,CAACd,SAAS,EAAAsC,QAAA,CAAC,cAAE,CAAW,CAAC,cACzBxB,IAAA,CAACb,KAAK,EACJmD,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEjC,QAAS,CAChBkC,QAAQ,CAAGxB,CAAC,EAAKT,WAAW,CAACS,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAC7CG,WAAW,CAAC,4CAAS,CACtB,CAAC,EACS,CAAC,cAEd1C,IAAA,CAACjB,MAAM,EACLuD,IAAI,CAAC,QAAQ,CACbK,WAAW,CAAC,OAAO,CACnBC,IAAI,CAAC,IAAI,CACTC,SAAS,CAAErC,OAAQ,CACnBsC,WAAW,CAAC,uBAAQ,CAAAtB,QAAA,CACrB,cAED,CAAQ,CAAC,EACJ,CAAC,CACJ,CAAC,cAEPtB,KAAA,CAACP,MAAM,EAAA6B,QAAA,eACLxB,IAAA,CAACN,OAAO,GAAE,CAAC,cACXM,IAAA,CAACX,IAAI,EAAC0D,EAAE,CAAC,GAAG,CAACd,KAAK,CAAC,UAAU,CAACe,QAAQ,CAAC,IAAI,CAAAxB,QAAA,CAAC,QAE5C,CAAM,CAAC,cACPxB,IAAA,CAACN,OAAO,GAAE,CAAC,EACL,CAAC,cAETM,IAAA,CAACjB,MAAM,EACLkE,OAAO,CAAC,SAAS,CACjBL,IAAI,CAAC,IAAI,CACTM,OAAO,CAAE7B,iBAAkB,CAC3BwB,SAAS,CAAErC,OAAQ,CACnBsC,WAAW,CAAC,8BAAe,CAAAtB,QAAA,CAC5B,8CAED,CAAQ,CAAC,cAETxB,IAAA,CAAClB,GAAG,EAACkD,SAAS,CAAC,QAAQ,CAAAR,QAAA,cACrBtB,KAAA,CAACb,IAAI,EAAC4C,KAAK,CAAC,UAAU,CAAAT,QAAA,EAAC,sCACf,CAAC,GAAG,cACVxB,IAAA,CAACP,IAAI,EAAC0D,EAAE,CAAEvD,UAAW,CAACwD,EAAE,CAAC,WAAW,CAACnB,KAAK,CAAC,WAAW,CAACoB,UAAU,CAAC,UAAU,CAAA7B,QAAA,CAAC,0BAE7E,CAAM,CAAC,EACH,CAAC,CACJ,CAAC,EACD,CAAC,CACL,CAAC,CACG,CAAC,CAEhB,CAAC,CAED,cAAe,CAAArB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}