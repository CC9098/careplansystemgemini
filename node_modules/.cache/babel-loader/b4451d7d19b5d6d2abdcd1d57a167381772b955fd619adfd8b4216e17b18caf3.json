{"ast":null,"code":"import React from'react';import{Box,Flex,Text,Button,Menu,MenuButton,MenuList,MenuItem,Avatar,HStack,useColorModeValue,Badge}from'@chakra-ui/react';import{ChevronDownIcon}from'@chakra-ui/icons';import{useAuth}from'../../context/AuthContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const{user,logout}=useAuth();const navigate=useNavigate();const bg=useColorModeValue('white','gray.800');const borderColor=useColorModeValue('gray.200','gray.700');const handleLogout=async()=>{await logout();navigate('/login');};return/*#__PURE__*/_jsxs(Box,{bg:bg,px:4,borderBottom:\"1px\",borderColor:borderColor,children:[/*#__PURE__*/_jsxs(Flex,{h:16,alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xl\",fontWeight:\"bold\",color:\"brand.500\",cursor:\"pointer\",onClick:()=>navigate('/dashboard'),children:\"AI Care Plan \\u7BA1\\u7406\\u7CFB\\u7D71\"}),(user===null||user===void 0?void 0:user.is_premium)&&/*#__PURE__*/_jsx(Badge,{colorScheme:\"yellow\",variant:\"solid\",children:\"Premium\"})]}),/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(MenuButton,{as:Button,rightIcon:/*#__PURE__*/_jsx(ChevronDownIcon,{}),variant:\"ghost\",children:/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(Avatar,{size:\"sm\",name:(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email),src:user===null||user===void 0?void 0:user.profile_picture}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)})]})}),/*#__PURE__*/_jsxs(MenuList,{children:[/*#__PURE__*/_jsx(MenuItem,{onClick:()=>navigate('/dashboard'),children:\"\\u5100\\u8868\\u677F\"}),/*#__PURE__*/_jsx(MenuItem,{children:\"\\u5E33\\u6236\\u8A2D\\u5B9A\"}),!(user!==null&&user!==void 0&&user.is_premium)&&/*#__PURE__*/_jsx(MenuItem,{children:/*#__PURE__*/_jsx(Text,{color:\"brand.500\",fontWeight:\"semibold\",children:\"\\u5347\\u7D1A\\u5230 Premium\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogout,color:\"red.500\",children:\"\\u767B\\u51FA\"})]})]})]}),!(user!==null&&user!==void 0&&user.is_premium)&&/*#__PURE__*/_jsx(Box,{pb:2,children:/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.600\",textAlign:\"center\",children:[\"\\u672C\\u6708\\u5269\\u9918 AI \\u5206\\u6790\\u6B21\\u6578: \",(user===null||user===void 0?void 0:user.remaining_usage)||0,\" \\u6B21\"]})})]});};export default Header;","map":{"version":3,"names":["React","Box","Flex","Text","Button","Menu","MenuButton","MenuList","MenuItem","Avatar","HStack","useColorModeValue","Badge","ChevronDownIcon","useAuth","useNavigate","jsx","_jsx","jsxs","_jsxs","Header","user","logout","navigate","bg","borderColor","handleLogout","px","borderBottom","children","h","alignItems","justifyContent","spacing","fontSize","fontWeight","color","cursor","onClick","is_premium","colorScheme","variant","as","rightIcon","size","name","email","src","profile_picture","pb","textAlign","remaining_usage"],"sources":["/Users/chetchung/Documents/V0Careplanparrot/src/components/layout/Header.js"],"sourcesContent":["import React from 'react';\nimport {\n  Box,\n  Flex,\n  Text,\n  Button,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Avatar,\n  HStack,\n  useColorModeValue,\n  Badge,\n} from '@chakra-ui/react';\nimport { ChevronDownIcon } from '@chakra-ui/icons';\nimport { useAuth } from '../../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst Header = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const bg = useColorModeValue('white', 'gray.800');\n  const borderColor = useColorModeValue('gray.200', 'gray.700');\n\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n\n  return (\n    <Box bg={bg} px={4} borderBottom=\"1px\" borderColor={borderColor}>\n      <Flex h={16} alignItems=\"center\" justifyContent=\"space-between\">\n        {/* Logo 和標題 */}\n        <HStack spacing={4}>\n          <Text\n            fontSize=\"xl\"\n            fontWeight=\"bold\"\n            color=\"brand.500\"\n            cursor=\"pointer\"\n            onClick={() => navigate('/dashboard')}\n          >\n            AI Care Plan 管理系統\n          </Text>\n          {user?.is_premium && (\n            <Badge colorScheme=\"yellow\" variant=\"solid\">\n              Premium\n            </Badge>\n          )}\n        </HStack>\n\n        {/* 用戶菜單 */}\n        <Menu>\n          <MenuButton as={Button} rightIcon={<ChevronDownIcon />} variant=\"ghost\">\n            <HStack spacing={2}>\n              <Avatar size=\"sm\" name={user?.name || user?.email} src={user?.profile_picture} />\n              <Text fontSize=\"sm\">{user?.name || user?.email}</Text>\n            </HStack>\n          </MenuButton>\n          <MenuList>\n            <MenuItem onClick={() => navigate('/dashboard')}>\n              儀表板\n            </MenuItem>\n            <MenuItem>\n              帳戶設定\n            </MenuItem>\n            {!user?.is_premium && (\n              <MenuItem>\n                <Text color=\"brand.500\" fontWeight=\"semibold\">\n                  升級到 Premium\n                </Text>\n              </MenuItem>\n            )}\n            <MenuItem onClick={handleLogout} color=\"red.500\">\n              登出\n            </MenuItem>\n          </MenuList>\n        </Menu>\n      </Flex>\n      \n      {/* 使用量提示 */}\n      {!user?.is_premium && (\n        <Box pb={2}>\n          <Text fontSize=\"xs\" color=\"gray.600\" textAlign=\"center\">\n            本月剩餘 AI 分析次數: {user?.remaining_usage || 0} 次\n          </Text>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default Header; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}