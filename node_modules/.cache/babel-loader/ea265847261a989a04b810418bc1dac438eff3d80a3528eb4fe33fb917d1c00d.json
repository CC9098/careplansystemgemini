{"ast":null,"code":"import React,{useState}from'react';import{Box,Button,Container,FormControl,FormLabel,Input,Stack,Text,Alert,AlertIcon,Heading,Link,Divider,HStack}from'@chakra-ui/react';import{Link as RouterLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{register,loginWithGoogle}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');// 驗證密碼確認\nif(password!==confirmPassword){setError('密碼確認不匹配');return;}if(password.length<6){setError('密碼長度至少需要 6 個字符');return;}setLoading(true);try{const result=await register(email,password,name);if(result.success){navigate('/dashboard');}else{setError(result.error);}}catch(err){setError('註冊過程中發生錯誤，請稍後再試');}finally{setLoading(false);}};const handleGoogleLogin=async()=>{setLoading(true);setError('');try{const result=await loginWithGoogle();if(result.success){navigate('/dashboard');}else{setError(result.error);}}catch(err){setError('Google 註冊過程中發生錯誤');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxW:\"md\",py:12,children:/*#__PURE__*/_jsx(Box,{bg:\"white\",p:8,borderRadius:\"lg\",boxShadow:\"md\",border:\"1px solid\",borderColor:\"gray.200\",children:/*#__PURE__*/_jsxs(Stack,{spacing:6,children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Heading,{color:\"brand.500\",mb:2,children:\"\\u5EFA\\u7ACB\\u65B0\\u5E33\\u6236\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",children:\"\\u958B\\u59CB\\u4F7F\\u7528 AI Care Plan \\u7BA1\\u7406\\u7CFB\\u7D71\"})]}),error&&/*#__PURE__*/_jsxs(Alert,{status:\"error\",borderRadius:\"md\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),error]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u59D3\\u540D\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u96FB\\u5B50\\u90F5\\u4EF6\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u96FB\\u5B50\\u90F5\\u4EF6\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u5BC6\\u78BC\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC (\\u81F3\\u5C11 6 \\u500B\\u5B57\\u7B26)\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u78BA\\u8A8D\\u5BC6\\u78BC\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"\\u8ACB\\u518D\\u6B21\\u8F38\\u5165\\u5BC6\\u78BC\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",colorScheme:\"brand\",size:\"lg\",isLoading:loading,loadingText:\"\\u8A3B\\u518A\\u4E2D...\",children:\"\\u8A3B\\u518A\"})]})}),/*#__PURE__*/_jsxs(HStack,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Text,{px:\"3\",color:\"gray.500\",fontSize:\"sm\",children:\"\\u6216\"}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",onClick:handleGoogleLogin,isLoading:loading,loadingText:\"Google \\u8A3B\\u518A\\u4E2D...\",children:\"\\u4F7F\\u7528 Google \\u5E33\\u6236\\u8A3B\\u518A\"}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsxs(Text,{color:\"gray.600\",children:[\"\\u5DF2\\u7D93\\u6709\\u5E33\\u6236\\u4E86\\uFF1F\",' ',/*#__PURE__*/_jsx(Link,{as:RouterLink,to:\"/login\",color:\"brand.500\",fontWeight:\"semibold\",children:\"\\u7ACB\\u5373\\u767B\\u5165\"})]})})]})})});};export default RegisterPage;","map":{"version":3,"names":["React","useState","Box","Button","Container","FormControl","FormLabel","Input","Stack","Text","Alert","AlertIcon","Heading","Link","Divider","HStack","RouterLink","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","RegisterPage","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","register","loginWithGoogle","navigate","handleSubmit","e","preventDefault","length","result","success","err","handleGoogleLogin","maxW","py","children","bg","p","borderRadius","boxShadow","border","borderColor","spacing","textAlign","color","mb","status","onSubmit","isRequired","type","value","onChange","target","placeholder","colorScheme","size","isLoading","loadingText","px","fontSize","variant","onClick","as","to","fontWeight"],"sources":["/Users/chetchung/Documents/V0Careplanparrot/src/pages/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Container,\n  FormControl,\n  FormLabel,\n  Input,\n  Stack,\n  Text,\n  Alert,\n  AlertIcon,\n  Heading,\n  Link,\n  Divider,\n  HStack,\n} from '@chakra-ui/react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst RegisterPage = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const { register, loginWithGoogle } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    // 驗證密碼確認\n    if (password !== confirmPassword) {\n      setError('密碼確認不匹配');\n      return;\n    }\n\n    if (password.length < 6) {\n      setError('密碼長度至少需要 6 個字符');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const result = await register(email, password, name);\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setError(result.error);\n      }\n    } catch (err) {\n      setError('註冊過程中發生錯誤，請稍後再試');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    setLoading(true);\n    setError('');\n\n    try {\n      const result = await loginWithGoogle();\n      if (result.success) {\n        navigate('/dashboard');\n      } else {\n        setError(result.error);\n      }\n    } catch (err) {\n      setError('Google 註冊過程中發生錯誤');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxW=\"md\" py={12}>\n      <Box\n        bg=\"white\"\n        p={8}\n        borderRadius=\"lg\"\n        boxShadow=\"md\"\n        border=\"1px solid\"\n        borderColor=\"gray.200\"\n      >\n        <Stack spacing={6}>\n          <Box textAlign=\"center\">\n            <Heading color=\"brand.500\" mb={2}>\n              建立新帳戶\n            </Heading>\n            <Text color=\"gray.600\">\n              開始使用 AI Care Plan 管理系統\n            </Text>\n          </Box>\n\n          {error && (\n            <Alert status=\"error\" borderRadius=\"md\">\n              <AlertIcon />\n              {error}\n            </Alert>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <Stack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>姓名</FormLabel>\n                <Input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"請輸入您的姓名\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>電子郵件</FormLabel>\n                <Input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"請輸入您的電子郵件\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>密碼</FormLabel>\n                <Input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"請輸入密碼 (至少 6 個字符)\"\n                />\n              </FormControl>\n\n              <FormControl isRequired>\n                <FormLabel>確認密碼</FormLabel>\n                <Input\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"請再次輸入密碼\"\n                />\n              </FormControl>\n\n              <Button\n                type=\"submit\"\n                colorScheme=\"brand\"\n                size=\"lg\"\n                isLoading={loading}\n                loadingText=\"註冊中...\"\n              >\n                註冊\n              </Button>\n            </Stack>\n          </form>\n\n          <HStack>\n            <Divider />\n            <Text px=\"3\" color=\"gray.500\" fontSize=\"sm\">\n              或\n            </Text>\n            <Divider />\n          </HStack>\n\n          <Button\n            variant=\"outline\"\n            size=\"lg\"\n            onClick={handleGoogleLogin}\n            isLoading={loading}\n            loadingText=\"Google 註冊中...\"\n          >\n            使用 Google 帳戶註冊\n          </Button>\n\n          <Box textAlign=\"center\">\n            <Text color=\"gray.600\">\n              已經有帳戶了？{' '}\n              <Link as={RouterLink} to=\"/login\" color=\"brand.500\" fontWeight=\"semibold\">\n                立即登入\n              </Link>\n            </Text>\n          </Box>\n        </Stack>\n      </Box>\n    </Container>\n  );\n};\n\nexport default RegisterPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}